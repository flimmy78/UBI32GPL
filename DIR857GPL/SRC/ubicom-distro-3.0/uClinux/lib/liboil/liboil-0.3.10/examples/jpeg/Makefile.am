

if HAVE_GLIB
noinst_LTLIBRARIES = libjpeg.la
noinst_PROGRAMS = jpeg_test jpeg_rgb_test
else
noinst_LTLIBRARIES =
noinst_PROGRAMS = 
endif

libjpeg_la_SOURCES = jpeg.c huffman.c jpeg_rgb_decoder.c
libjpeg_la_CFLAGS = $(GLIB_CFLAGS) $(LIBOIL_CFLAGS)
libjpeg_la_LIBADD = -lm $(GLIB_LIBS)

noinst_HEADERS = bits.h huffman.h jpeg.h jpeg_debug.h \
	jpeg_internal.h jpeg_rgb_decoder.h jpeg_rgb_internal.h
	


jpeg_test_SOURCES = test.c
jpeg_test_CFLAGS = $(GLIB_CFLAGS) $(LIBOIL_CFLAGS)
jpeg_test_LDADD = libjpeg.la -lm $(GLIB_LIBS) $(LIBOIL_LIBS)

jpeg_rgb_test_SOURCES = test_rgb.c
jpeg_rgb_test_CFLAGS = $(GLIB_CFLAGS) $(LIBOIL_CFLAGS)
jpeg_rgb_test_LDADD = libjpeg.la -lm $(GLIB_LIBS) $(LIBOIL_LIBS)

